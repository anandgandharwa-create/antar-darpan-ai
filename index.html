<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>अंतर-दर्पण</title>

<style>
body{
  margin:0;
  height:100svh;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding-top:70px;
  background:#0b0b0f;
  font-family:system-ui, sans-serif;
  overflow:hidden;
}

.hidden{display:none;}

.screen{
  width:100%;
  max-width:420px;
  padding:20px;
  box-sizing:border-box;
  text-align:center;
}

/* Titles */
h1,h2{color:#ffd369;margin-bottom:6px;}
p{color:#aaa;margin-top:0;}

button{
  margin-top:20px;
  padding:14px 34px;
  border-radius:30px;
  border:none;
  background:#ffd369;
  color:#000;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}

/* QUESTION */
#question{
  margin-top:-50px;
}

#question .question{
  font-size:18px;
  margin:25px 0 25px;
  color:#ffffff;
  line-height:1.5;
}

.options{
  text-align:left;
}

.option{
  padding:16px;
  margin-bottom:14px;
  border-radius:16px;
  cursor:pointer;
  color:#111;
  font-weight:500;
  transition:all .25s ease;
}

.opt-1{background:#ff6b6b;}
.opt-2{background:#ff9f43;}
.opt-3{background:#feca57;}
.opt-4{background:#48dbfb;}
.opt-5{background:#1dd1a1;}

.option.selected{
  box-shadow:0 0 18px rgba(255,255,255,.5);
  transform:scale(1.03);
}

/* SPIN */
#wheel{
  width:200px;
  height:200px;
  margin:30px auto;
  border-radius:50%;
  background:conic-gradient(
    red, orange, yellow, green, cyan, blue, violet, red
  );
  box-shadow:0 0 25px rgba(255,255,255,.3);
  animation: pulseGlow 2.5s ease-in-out infinite;
}

@keyframes pulseGlow{
  0%{ box-shadow:0 0 20px rgba(255,255,255,.15);}
  50%{ box-shadow:0 0 60px rgba(255,255,255,.35);}
  100%{ box-shadow:0 0 20px rgba(255,255,255,.15);}
}

/* METER */
.meter-wrap{
  position:relative;
  width:280px;
  height:140px;
  margin:20px auto;
  overflow:hidden;
}

.meter-arc{
  width:280px;
  height:280px;
  border-radius:50%;
  border:20px solid transparent;
  border-bottom:none;
  border-left-color:#ff2e2e;
  border-top-color:#ffd369;
  border-right-color:#00c853;
  box-sizing:border-box;
}

.needle{
  position:absolute;
  width:4px;
  height:105px;
  background:#fff;
  left:50%;
  bottom:-6px;
  transform-origin:bottom center;
  transform:translateX(-50%) rotate(-90deg);
  transition: transform 1.2s cubic-bezier(.25,.8,.25,1);
}

.needle-dot{
  position:absolute;
  width:14px;
  height:14px;
  background:#fff;
  border-radius:50%;
  left:50%;
  bottom:-12px;
  transform:translateX(-50%);
}

/* RESULT TEXT */
.level{
  font-size:24px;
  margin-top:18px;
  color:#ffd369;
  font-weight:600;
  text-shadow:0 0 12px rgba(255,211,105,0.35);
}

/* ✅ INSIGHT FIXED */
.insight{
  font-size:16px;
  color:#d0d0d0;
  margin-top:10px;
  margin-bottom:20px;
  line-height:1.6;
  padding:0 10px;
}
</style>
</head>

<body>

<!-- HOME -->
<div class="screen" id="home">
  <h1>अंतर-दर्पण</h1>
  <p>आपकी आत्मा का प्रतिबिम्ब</p>
  <button onclick="go('question')">शुरू करें</button>
</div>

<!-- QUESTION -->
<div class="screen hidden" id="question">
  <h2>Divine Access</h2>
  <div class="question">
    आपकी दृष्टि में संसार और जीवन के बारे में<br>
    क्या सबसे अधिक सटीक है?
  </div>

  <div class="options">
    <div class="option opt-1" data-level="1">संसार ही वास्तविक है</div>
    <div class="option opt-2" data-level="2">कर्म और परिणाम सत्य हैं</div>
    <div class="option opt-3" data-level="3">सब परिवर्तनशील है</div>
    <div class="option opt-4" data-level="4">मैं इसका साक्षी हूँ</div>
    <div class="option opt-5" data-level="5">सब चेतना में घटित है</div>
  </div>

  <button id="nextBtn" disabled onclick="go('spin')">Next</button>
</div>

<!-- SPIN -->
<div class="screen hidden" id="spin">
  <h2>ऊर्जा संरेखित हो रही है</h2>
  <div id="wheel"></div>
  <button onclick="startSpin()">SPIN करें</button>
</div>

<!-- RESULT -->
<div class="screen hidden" id="result">
  <h2>Divine Access</h2>
  <div class="meter-wrap">
    <div class="meter-arc"></div>
    <div class="needle" id="needle"></div>
    <div class="needle-dot"></div>
  </div>

  <div class="level" id="levelText"></div>
  <div class="insight" id="insightText"></div>

  <button onclick="go('home')">पुनः अनुभव करें</button>
</div>

<script>
let selectedLevel = null;
let currentRotation = 0;

function go(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

document.querySelectorAll(".option").forEach(opt=>{
  opt.addEventListener("click", function(){
    document.querySelectorAll(".option")
      .forEach(o=>o.classList.remove("selected"));

    this.classList.add("selected");
    selectedLevel = this.dataset.level;
    document.getElementById("nextBtn").disabled = false;
  });
});

const angleMap = {1:-80,2:-40,3:0,4:40,5:80};

const textMap = {
  1:"अविद्या (भौतिक दृष्टि)",
  2:"कर्म-बोध",
  3:"विवेक की जागृति",
  4:"साक्षी-भाव",
  5:"सत्य के निकट"
};

const insightMap = {
  1:"चेतना अभी बाह्य संसार और परिणामों में उलझी हुई है।",
  2:"उत्तरदायित्व का बोध है, पर कर्तापन बना हुआ है।",
  3:"संसार की अनित्यता स्पष्ट होने लगी है।",
  4:"देखने वाला और देखा गया अलग दिखने लगा है।",
  5:"चेतना अपने स्वरूप में स्थिर हो रही है।"
};

function startSpin(){
  const wheel = document.getElementById("wheel");
  wheel.style.animation = "none";
  currentRotation += 1800;
  wheel.style.transition = "transform 3.5s cubic-bezier(.12,.75,.38,1)";
  wheel.style.transform = "rotate(" + currentRotation + "deg)";

  setTimeout(()=>{ goResult(); },3600);
}

function goResult(){
  go("result");
  const level = selectedLevel || 3;
  const needle = document.getElementById("needle");

  needle.style.transform = "translateX(-50%) rotate(-90deg)";

  setTimeout(()=>{
    needle.style.transform =
      "translateX(-50%) rotate(" + angleMap[level] + "deg)";

    document.getElementById("levelText").innerText = textMap[level];
    document.getElementById("insightText").innerText = insightMap[level];
  },300);
}
</script>

</body>
</html>
