<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Priority Calculator</title>

<style>
body{
  margin:0;
  font-family:system-ui,Arial;
  background:#0f172a;
  color:#fff;
  display:flex;
  justify-content:center;
}
.app{
  width:100%;
  max-width:420px;
  min-height:100vh;
  padding:18px;
}
.page{display:none}
.page.active{display:block}

header{
  text-align:center;
  font-size:22px;
  font-weight:600;
  margin-bottom:16px;
}

.card{
  background:#1e293b;
  border-radius:16px;
  padding:16px;
  margin-bottom:14px;
}

input,select{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:none;
  font-size:16px;
}

.task{
  margin-bottom:14px;
}

button{
  width:100%;
  padding:14px;
  font-size:17px;
  border:none;
  border-radius:28px;
  background:linear-gradient(45deg,#38bdf8,#4ade80);
  color:#020617;
  margin-top:18px;
  cursor:pointer;
}

.spinBox{
  text-align:center;
  font-size:20px;
  margin-top:40px;
  animation:spin 1.5s infinite linear;
}
@keyframes spin{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

.resultTask{
  font-size:18px;
  padding:10px;
  border-bottom:1px solid rgba(255,255,255,.2);
}
.fade{
  opacity:.4;
}
.small{
  font-size:14px;
  opacity:.7;
  text-align:center;
  margin-top:10px;
}
</style>
</head>

<body>
<div class="app">

<!-- PAGE 1 -->
<div class="page active" id="page1">
<header>üìÖ Daily Priority Calculator</header>

<div id="tasks"></div>

<button onclick="goSpin()">Calculate Today</button>
<div class="small">Enter up to 5 tasks</div>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
<header>üé° Calculating‚Ä¶</header>
<div class="spinBox">‚è≥</div>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
<header>‚úÖ Today‚Äôs Focus</header>

<div class="card">
  <strong>DO TODAY</strong>
  <div id="doList"></div>
</div>

<div class="card fade">
  <strong>HOLD FOR LATER</strong>
  <div id="holdList"></div>
</div>

<div class="small">
If only these are done today, the day counts as successful.
</div>

<button onclick="location.reload()">Done</button>
</div>

</div>

<script>
const taskBox=document.getElementById("tasks");

/* CREATE INPUTS */
for(let i=1;i<=5;i++){
  taskBox.innerHTML+=`
  <div class="task">
    <input placeholder="Task ${i}">
    <select>
      <option value="1">Low Effort</option>
      <option value="1.5">Medium Effort</option>
      <option value="2">High Effort</option>
    </select>
    <input type="number" placeholder="Minutes" min="1">
  </div>`;
}

function goSpin(){
  const inputs=[...document.querySelectorAll(".task")];
  let list=[];

  inputs.forEach(t=>{
    const name=t.children[0].value.trim();
    const effort=parseFloat(t.children[1].value);
    const time=parseInt(t.children[2].value);
    if(name && time){
      let score=(time*effort);
      score+=score*(Math.random()*0.2); // random boost
      list.push({name,score});
    }
  });

  if(list.length<2){
    alert("Enter at least 2 tasks");
    return;
  }

  localStorage.setItem("tasks",JSON.stringify(list));

  page1.classList.remove("active");
  page2.classList.add("active");

  setTimeout(showResult,2500);
}

function showResult(){
  const list=JSON.parse(localStorage.getItem("tasks"));
  list.sort((a,b)=>b.score-a.score);

  const doList=document.getElementById("doList");
  const holdList=document.getElementById("holdList");

  doList.innerHTML="";
  holdList.innerHTML="";

  list.forEach((t,i)=>{
    const div=document.createElement("div");
    div.className="resultTask";
    div.innerText=t.name;
    if(i<2) doList.appendChild(div);
    else holdList.appendChild(div);
  });

  page2.classList.remove("active");
  page3.classList.add("active");
}
</script>

</body>
</html>
